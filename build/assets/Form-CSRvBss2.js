import{r as x,b as P,T as Q,d as W,e as X,c as R,w as p,f as Y,o as i,a as t,t as b,g as Z,h as l,u as s,i as w,v as V,j as o,k as A,F as B,l as v,m as H,n as ee}from"./app-GEAUTrCp.js";import{_ as ae}from"./AdminLayout-D24n9ytM.js";import{_ as m,a as C,b as u}from"./InputError-DCpM2vry.js";import{T as te}from"./TextArea-OHU4jwp-.js";import{P as re}from"./PrimaryButton-DfyIlYdq.js";import{_ as se}from"./SecondaryButton-BODkKlWv.js";import{D as le}from"./DangerButton-BU9--fmG.js";import{_ as de}from"./Toggle-s1NGtRVk.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                 */const ie={class:"text-xl text-center font-semibold leading-tight text-gray-800 dark:text-gray-200"},oe={class:"py-12"},me={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ue={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},ce={class:"bg-gray-50 dark:bg-gray-700 p-6 rounded-lg"},ge={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},be={class:"md:col-span-2"},ye={class:"bg-gray-50 dark:bg-gray-700 p-6 rounded-lg"},fe={class:"grid grid-cols-1 md:grid-cols-1"},pe={class:"bg-gray-50 dark:bg-gray-700 p-6 rounded-lg"},_e={class:"grid grid-cols-1 sm:grid-cols-3 gap-6"},ve=["value"],he=["value"],ke=["value"],xe={class:"mt-2 flex items-center"},we=["src"],Ve=["src"],Ae={key:2,class:"h-32 w-32 rounded-lg bg-gray-200 dark:bg-gray-700 flex items-center justify-center"},Be={class:"bg-gray-50 dark:bg-gray-700 p-6 rounded-lg"},Ce={class:"flex items-center justify-between"},Ue={class:"flex items-center justify-end space-x-3"},Ie={__name:"Form",props:{branch:{type:Object,default:null},cities:{type:Array,default:()=>[]},locals:{type:Array,default:()=>[]}},setup(c){var I,$,S,j,q,D,L,M,N,F,E,T;const h=x(null),g=x(null),d=c,y=x([]),U=P(()=>d.branch?"Edit Brand":"Create Brand"),O=n=>{const e=n.target.files[0];if(e){a.image=e;const f=new FileReader;f.onload=_=>{g.value=_.target.result},f.readAsDataURL(e)}},z=()=>{a.image=null,g.value=null,h.value&&(h.value.value="")},G=n=>!n||!Array.isArray(n)?[{day:"Monday",open:"09:00",close:"22:00",breakfast:{start:"08:00",end:"10:00"},lunch:{start:"12:00",end:"15:00"},dinner:{start:"18:00",end:"22:00"}}]:n.map(e=>({day:e.day||"Monday",open:e.open||"09:00",close:e.close||"22:00",breakfast:e.breakfast||{start:"08:00",end:"10:00"},lunch:e.lunch||{start:"12:00",end:"15:00"},dinner:e.dinner||{start:"18:00",end:"22:00"}})),a=Q({name:((I=d.branch)==null?void 0:I.name)??"",address:(($=d.branch)==null?void 0:$.address)??"",latitude:((S=d.branch)==null?void 0:S.latitude)??"",map_url:((j=d.branch)==null?void 0:j.map_url)??"",contact_number:((q=d.branch)==null?void 0:q.contact_number)??"",district_id:((D=d.branch)==null?void 0:D.district_id)??"",thana_id:((L=d.branch)==null?void 0:L.thana_id)??"",local_id:((M=d.branch)==null?void 0:M.local_id)??"",image:((N=d.branch)==null?void 0:N.image)??"",opening_hours:G((F=d.branch)==null?void 0:F.opening_hours),delivery_radius:((E=d.branch)==null?void 0:E.delivery_radius)??5,is_active:((T=d.branch)==null?void 0:T.is_active)??!0}),J=P(()=>a.thana_id?d.locals.filter(n=>n.area_id==a.thana_id):[]),k=async()=>{if(!a.district_id){y.value=[],a.thana_id="";return}try{const n=await Y.get(`/admin/area/${a.district_id}`);y.value=n.data,y.value.some(e=>e.id===a.thana_id)||(a.thana_id="")}catch(n){console.error("Error fetching areas:",n),y.value=[]}};W(()=>a.district_id,()=>{k()}),X(()=>{a.district_id&&k()});const K=()=>{d.branch?a.put(route("admin.branches.update",d.branch.id)):a.post(route("admin.branches.store"))};return(n,e)=>(i(),R(ae,{title:U.value},{default:p(()=>{var f,_;return[t("h2",ie,b(U.value),1),t("div",oe,[t("div",me,[t("div",ue,[t("form",{onSubmit:Z(K,["prevent"]),class:"p-6 space-y-6"},[t("section",ce,[e[9]||(e[9]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"},"Basic Information",-1)),t("div",ge,[t("div",null,[l(m,{for:"name",value:"Brand Name"}),l(C,{id:"name",modelValue:s(a).name,"onUpdate:modelValue":e[0]||(e[0]=r=>s(a).name=r),type:"text",class:"mt-1 block w-full dark:bg-gray-900 dark:text-gray-300",required:""},null,8,["modelValue"]),l(u,{message:s(a).errors.name,class:"mt-2"},null,8,["message"])]),t("div",null,[l(m,{for:"contact_number",value:"Contact Number"}),l(C,{id:"contact_number",modelValue:s(a).contact_number,"onUpdate:modelValue":e[1]||(e[1]=r=>s(a).contact_number=r),type:"text",class:"mt-1 block w-full dark:bg-gray-900 dark:text-gray-300",required:""},null,8,["modelValue"]),l(u,{message:s(a).errors.contact_number,class:"mt-2"},null,8,["message"])]),t("div",be,[l(m,{for:"address",value:"Address"}),l(te,{id:"address",modelValue:s(a).address,"onUpdate:modelValue":e[2]||(e[2]=r=>s(a).address=r),class:"mt-1 block w-full dark:bg-gray-900 dark:text-gray-300",rows:"2",required:""},null,8,["modelValue"]),l(u,{message:s(a).errors.address,class:"mt-2"},null,8,["message"])])])]),t("section",ye,[e[10]||(e[10]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"}," Location & Delivery Area ",-1)),t("div",fe,[t("div",null,[l(m,{for:"map_url",value:"Google Map Url"}),l(C,{id:"map_url",modelValue:s(a).map_url,"onUpdate:modelValue":e[3]||(e[3]=r=>s(a).map_url=r),type:"text",step:"any",class:"mt-1 block w-full dark:bg-gray-900 dark:text-gray-300",required:""},null,8,["modelValue"]),l(u,{message:s(a).errors.map_url,class:"mt-2"},null,8,["message"])])])]),t("section",pe,[e[14]||(e[14]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"},"Address",-1)),t("div",_e,[t("div",null,[l(m,{for:"city_id",value:"City"}),w(t("select",{id:"city_id","onUpdate:modelValue":e[4]||(e[4]=r=>s(a).district_id=r),onChange:k,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm dark:bg-gray-900 dark:text-gray-300",required:""},[e[11]||(e[11]=t("option",{value:""},"Select a city",-1)),(i(!0),o(B,null,A(c.cities,r=>(i(),o("option",{key:r.id,value:r.id},b(r.name),9,ve))),128))],544),[[V,s(a).district_id]]),l(u,{message:s(a).errors.district_id,class:"mt-2"},null,8,["message"])]),t("div",null,[l(m,{for:"thana_id",value:"Area"}),w(t("select",{id:"thana_id","onUpdate:modelValue":e[5]||(e[5]=r=>s(a).thana_id=r),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm dark:bg-gray-900 dark:text-gray-300",required:""},[e[12]||(e[12]=t("option",{value:""},"Select an Area",-1)),(i(!0),o(B,null,A(y.value,r=>(i(),o("option",{key:r.id,value:r.id},b(r.name),9,he))),128))],512),[[V,s(a).thana_id]]),l(u,{message:s(a).errors.thana_id,class:"mt-2"},null,8,["message"])]),t("div",null,[l(m,{for:"local_id",value:"Local"}),w(t("select",{id:"local_id","onUpdate:modelValue":e[6]||(e[6]=r=>s(a).local_id=r),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm dark:bg-gray-900 dark:text-gray-300"},[e[13]||(e[13]=t("option",{value:""},"Select a Local Area",-1)),(i(!0),o(B,null,A(J.value,r=>(i(),o("option",{key:r.id,value:r.id},b(r.name),9,ke))),128))],512),[[V,s(a).local_id]]),l(u,{message:s(a).errors.local_id,class:"mt-2"},null,8,["message"])])])]),t("div",null,[l(m,{for:"image",value:"Image"}),t("div",xe,[g.value?(i(),o("img",{key:0,src:g.value,class:"h-32 w-32 object-cover rounded-lg"},null,8,we)):(f=c.branch)!=null&&f.image_path?(i(),o("img",{key:1,src:`/storage/${c.branch.image_path}`,class:"h-32 w-32 object-cover rounded-lg"},null,8,Ve)):(i(),o("div",Ae,e[15]||(e[15]=[t("i",{class:"fas fa-camera text-gray-400 dark:text-gray-500 text-3xl"},null,-1)]))),t("input",{type:"file",id:"image",ref_key:"imageInput",ref:h,class:"hidden",onChange:O,accept:"image/*"},null,544),l(se,{type:"button",class:"ml-4",onClick:e[7]||(e[7]=r=>n.$refs.imageInput.click())},{default:p(()=>{var r;return[v(b(g.value||(r=c.branch)!=null&&r.image_path?"Change Image":"Select Image"),1)]}),_:1}),g.value||(_=c.branch)!=null&&_.image_path?(i(),R(le,{key:3,type:"button",class:"ml-2",onClick:z},{default:p(()=>e[16]||(e[16]=[v(" Remove")])),_:1})):H("",!0)]),l(u,{message:s(a).errors.image,class:"mt-2"},null,8,["message"])]),t("section",Be,[t("div",Ce,[e[17]||(e[17]=t("div",null,[t("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Brand Status"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Enable or disable this branch")],-1)),l(de,{modelValue:s(a).is_active,"onUpdate:modelValue":e[8]||(e[8]=r=>s(a).is_active=r),class:"ml-4"},null,8,["modelValue"])])]),t("div",Ue,[l(s(ee),{href:n.route("admin.branches.index"),class:"inline-flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-700 border border-transparent rounded-md font-semibold text-xs text-gray-700 dark:text-gray-300 uppercase tracking-widest hover:bg-gray-300 dark:hover:bg-gray-600 focus:bg-gray-300 dark:focus:bg-gray-600 active:bg-gray-300 dark:active:bg-gray-600"},{default:p(()=>e[18]||(e[18]=[v(" Cancel")])),_:1},8,["href"]),l(re,{disabled:s(a).processing},{default:p(()=>[v(b(c.branch?"Update Brand":"Create Brand"),1)]),_:1},8,["disabled"])])],32)])])])]}),_:1},8,["title"]))}},Te=ne(Ie,[["__scopeId","data-v-25db4fa4"]]);export{Te as default};
