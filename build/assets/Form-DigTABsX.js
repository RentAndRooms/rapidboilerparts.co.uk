import{b as B,r as V,T,c as S,w as m,o as u,a as s,t as _,g as D,h as a,u as r,j as x,l as p,m as N,n as P,p as A}from"./app-GEAUTrCp.js";import{_ as O}from"./AdminLayout-D24n9ytM.js";import{_ as c,a as $,b as y}from"./InputError-DCpM2vry.js";import{T as R}from"./TextArea-OHU4jwp-.js";import{P as E}from"./PrimaryButton-DfyIlYdq.js";import{_ as F}from"./SecondaryButton-BODkKlWv.js";import{D as q}from"./DangerButton-BU9--fmG.js";import{_ as z}from"./Toggle-s1NGtRVk.js";/* empty css                                                                 */import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"},M={class:"py-12"},G={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},H={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},J={class:"mt-2 flex items-center"},K=["src"],Q=["src"],W={key:2,class:"h-32 w-32 rounded-lg bg-gray-200 dark:bg-gray-700 flex items-center justify-center"},X={class:"flex items-center"},Y={class:"flex items-center justify-end space-x-3"},me={__name:"Form",props:{category:{type:Object,default:null}},setup(n){var h,k,C,w;const l=n,b=B(()=>l.category?"Edit Category":"Create Category"),v=V(null),i=V(null),t=T({name:((h=l.category)==null?void 0:h.name)??"",description:((k=l.category)==null?void 0:k.description)??"",image:null,is_active:((C=l.category)==null?void 0:C.is_active)??!0,sort_order:((w=l.category)==null?void 0:w.sort_order)??0,_method:l.category?"PUT":"POST"}),I=g=>{const e=g.target.files[0];if(e){t.image=e;const d=new FileReader;d.onload=f=>{i.value=f.target.result},d.readAsDataURL(e)}},U=()=>{t.image=null,i.value=null,v.value&&(v.value.value="")},j=()=>{l.category?t.post(route("admin.categories.update",l.category.id),{preserveScroll:!0,onSuccess:()=>{i.value=null}}):t.post(route("admin.categories.store"),{preserveScroll:!0,onSuccess:()=>{t.reset(),i.value=null}})};return(g,e)=>(u(),S(O,{title:b.value},{header:m(()=>[s("h2",L,_(b.value),1)]),default:m(()=>{var d,f;return[s("div",M,[s("div",G,[s("div",H,[e[8]||(e[8]=s("h1",{class:"text-xl font-semibold leading-tight text-center mt-4 text-gray-800 dark:text-gray-200"},"Create Category ",-1)),s("form",{onSubmit:D(j,["prevent"]),class:"p-6 space-y-6"},[s("div",null,[a(c,{for:"name",value:"Name"}),a($,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:r(t).name,"onUpdate:modelValue":e[0]||(e[0]=o=>r(t).name=o),required:"",autofocus:""},null,8,["modelValue"]),a(y,{message:r(t).errors.name,class:"mt-2"},null,8,["message"])]),s("div",null,[a(c,{for:"description",value:"Description"}),a(R,{id:"description",class:"mt-1 block w-full",modelValue:r(t).description,"onUpdate:modelValue":e[1]||(e[1]=o=>r(t).description=o),rows:"4"},null,8,["modelValue"]),a(y,{message:r(t).errors.description,class:"mt-2"},null,8,["message"])]),s("div",null,[a(c,{for:"image",value:"Image"}),s("div",J,[i.value?(u(),x("img",{key:0,src:i.value,class:"h-32 w-32 object-cover rounded-lg"},null,8,K)):(d=n.category)!=null&&d.image_path?(u(),x("img",{key:1,src:`/storage/${n.category.image_path}`,class:"h-32 w-32 object-cover rounded-lg"},null,8,Q)):(u(),x("div",W,e[5]||(e[5]=[s("i",{class:"fas fa-camera text-gray-400 dark:text-gray-500 text-3xl"},null,-1)]))),s("input",{type:"file",id:"image",ref_key:"imageInput",ref:v,class:"hidden",onChange:I,accept:"image/*"},null,544),a(F,{type:"button",class:"ml-4",onClick:e[2]||(e[2]=o=>g.$refs.imageInput.click())},{default:m(()=>{var o;return[p(_(i.value||(o=n.category)!=null&&o.image_path?"Change Image":"Select Image"),1)]}),_:1}),i.value||(f=n.category)!=null&&f.image_path?(u(),S(q,{key:3,type:"button",class:"ml-2",onClick:U},{default:m(()=>e[6]||(e[6]=[p(" Remove ")])),_:1})):N("",!0)]),a(y,{message:r(t).errors.image,class:"mt-2"},null,8,["message"])]),s("div",X,[a(c,{for:"is_active",value:"Active Status",class:"mr-4"}),a(z,{modelValue:r(t).is_active,"onUpdate:modelValue":e[3]||(e[3]=o=>r(t).is_active=o),id:"is_active"},null,8,["modelValue"])]),s("div",null,[a(c,{for:"sort_order",value:"Sort Order"}),a($,{id:"sort_order",type:"number",class:"mt-1 block w-full",modelValue:r(t).sort_order,"onUpdate:modelValue":e[4]||(e[4]=o=>r(t).sort_order=o),min:"0"},null,8,["modelValue"]),a(y,{message:r(t).errors.sort_order,class:"mt-2"},null,8,["message"])]),s("div",Y,[a(r(P),{href:g.route("admin.categories.index"),class:"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200"},{default:m(()=>e[7]||(e[7]=[p(" Cancel ")])),_:1},8,["href"]),a(E,{class:A({"opacity-25":r(t).processing}),disabled:r(t).processing},{default:m(()=>[p(_(n.category?"Update Category":"Create Category"),1)]),_:1},8,["class","disabled"])])],32)])])])]}),_:1},8,["title"]))}};export{me as default};
